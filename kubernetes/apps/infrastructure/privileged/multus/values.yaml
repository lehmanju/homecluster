controllers:
  multus:
    type: daemonset
    initContainers:
      cni-plugins:
        image:
          repository: ghcr.io/home-operations/cni-plugins
          tag: 1.8.0@sha256:ce64a071c3c0f2e8c4620d588e45e36010ab05f63c4dd484b568c39e9346beac
    containers:
      multus:
        image:
          repository: ghcr.io/k8snetworkplumbingwg/multus-cni
          tag: v4.2.2@sha256:7591a27cd28eeafd6dfb197618b06dabd9446a7026164b9b21fee67adc925761
        command:
          - /thin_entrypoint
        args:
          - --cleanup-config-on-exit
        resources:
          requests:
            cpu: 10m
          limits:
            memory: 32Mi
        securityContext:
          privileged: true
    serviceAccount:
      identifier: multus
defaultPodOptions:
  hostNetwork: true
persistence:
  etc-cni-net-d:
    type: hostPath
    hostPath: /etc/cni/net.d
    globalMounts:
      - path: /host/etc/cni/net.d
  opt-cni-bin:
    type: hostPath
    hostPath: /opt/cni/bin
    globalMounts:
      - path: /host/opt/cni/bin
rbac:
  roles:
    multus:
      type: ClusterRole
      rules:
        - apiGroups:
            - "k8s.cni.cncf.io"
          resources:
            - "*"
          verbs:
            - "*"
        - apiGroups:
            - ""
          resources:
            - "pods"
            - "pods/status"
          verbs:
            - "get"
            - "update"
        - apiGroups:
            - ""
            - "events.k8s.io"
          resources:
            - "events"
          verbs:
            - "create"
            - "patch"
            - "update"
  bindings:
    multus:
      type: ClusterRoleBinding
      roleRef:
        identifier: multus
      subjects:
        - identifier: multus

serviceAccount:
  multus: {}
